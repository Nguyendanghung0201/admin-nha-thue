(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1919baa"],{"0bd4":function(t,a,i){},"24e6":function(t,a,i){"use strict";i.r(a);var n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"nk-content"},[a("div",[a("div",{staticClass:"d-inline-flex tab-wrapper flex-md-column flex-xl-row align-items-stretch justify-content-between w-100 mt-32"},[a("ul",{staticClass:"tab-list"},[a("li",{class:1==t.nha_type?"active tab-item tab-buy":"tab-item tab-sell",on:{click:function(a){return t.timnha(1)}}},[t._v("Nhà Realnetpro ")]),a("li",{class:2==t.nha_type?"active tab-item tab-buy":"tab-item tab-sell",on:{click:function(a){return t.timnha(2)}}},[t._v("Nhà Samuraichintai")]),a("li",{class:3==t.nha_type?"active tab-item tab-buy":"tab-item tab-sell",on:{click:function(a){return t.timnha(3)}}},[t._v("Nhà Village")])]),a("button",{staticClass:"btn btn-xl btn-primary",on:{click:t.taonha}},[t._v(" Tạo nhà ")]),a("button",{staticClass:"btn btn-xl btn-primary",on:{click:t.xoanhieu}},[t._v(" Xóa nhà ")]),a("button",{staticClass:"btn btn-xl btn-primary",on:{click:t.capnhatnha}},[t._v(" Update dữ liệu ")])])]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.masonha,expression:"masonha"}],staticClass:"form-control",attrs:{type:"text",id:"default-04",placeholder:"Tìm kiếm nhà bằng mã"},domProps:{value:t.masonha},on:{input:function(a){a.target.composing||(t.masonha=a.target.value)}}})]),a("div",[a("button",{on:{click:function(a){return t.timkiemnha()}}},[t._v("Tìm thông tin nhà theo mã")])]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"nk-content nk-content-fluid pt-0"},[a("div",{staticClass:"container-xl wide-lg"},[a("div",{staticClass:"nk-tb-list"},[t._m(0),t._l(t.data,(function(i,n){return t.data.length>0?a("div",{key:n,staticClass:"nk-tb-item"},[a("div",{staticClass:"nk-tb-col tb-col-sm"},[a("span",[t._v(t._s(i.detail_id))])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v(t._s(i.name))])]),a("div",{staticClass:"nk-tb-col"},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:i.check,expression:"item.check"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.check)?t._i(i.check,null)>-1:i.check},on:{change:function(a){var n=i.check,e=a.target,s=!!e.checked;if(Array.isArray(n)){var c=null,o=t._i(n,c);e.checked?o<0&&t.$set(i,"check",n.concat([c])):o>-1&&t.$set(i,"check",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(i,"check",s)}}})])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v(t._s(i.price)+" ")])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v(t._s(i.area))])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v(t._s(i.address))])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v(t._s(i.web))])]),a("div",{staticClass:"nk-tb-col nk-tb-col-tools"},[a("ul",{staticClass:"nk-tb-actions gx-1 my-n1"},[a("li",{staticClass:"mr-n1"},[a("div",{staticClass:"dropdown"},[t._m(1,!0),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("ul",{staticClass:"link-list-opt no-bdr"},[a("li",{on:{click:function(a){return t.deleteCty(i.detail_id)}}},[t._m(2,!0)]),a("li",{on:{click:function(a){return t.chitiet(i.detail_id)}}},[t._m(3,!0)])])])])])])])]):t._e()})),t.loading?a("div",[a("NoData")],1):t._e()],2)]),t.data.length?a("b-row",{staticClass:"row mt-3 mb-3"},[a("b-col",{staticClass:"ml-auto col-auto"},[a("nav",[a("b-pagination",{attrs:{"per-page":t.paginationData.perPage,"total-rows":t.paginationData.total,align:"right",size:"sm"},on:{input:t.handlePageClick},model:{value:t.paginationData.currentPage,callback:function(a){t.$set(t.paginationData,"currentPage",a)},expression:"paginationData.currentPage"}})],1)])],1):t._e()],1)])])},e=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"nk-tb-item nk-tb-head"},[a("div",{staticClass:"nk-tb-col tb-col-sm"},[a("span",[t._v("Id")])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v("Tên ngôi nhà")])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v("Lựa chọn")])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v("Giá ")])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v("Diện tích")])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v("Địa chỉ")])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v("Web đã Craw")])]),a("div",{staticClass:"nk-tb-col"},[a("span",[t._v("xem chi tiết")])])])},function(){var t=this,a=t._self._c;return a("a",{staticClass:"dropdown-toggle btn btn-icon btn-trigger",attrs:{href:"#","data-toggle":"dropdown"}},[a("em",{staticClass:"icon ni ni-more-h"})])},function(){var t=this,a=t._self._c;return a("a",{attrs:{href:"javascript:void(0);"}},[a("em",{staticClass:"icon ni ni-trash"}),a("span",[t._v("Xóa")])])},function(){var t=this,a=t._self._c;return a("a",{attrs:{href:"javascript:void(0);"}},[a("em",{staticClass:"icon ni ni-edit"}),a("span",[t._v("Chi tiết")])])}],s=(i("14d9"),i("bbca")),c=i("79fa"),o={name:"index",metaInfo(){return{title:"TÌm kiếm nhà"}},data(){return{nha_type:1,page:1,PerPage:50,search_key:"",masonha:"",data:[],data__goc:[],loading:!1,paginationData:{}}},components:{NoData:s["a"]},mounted(){this.$route.query.page&&(this.page=this.$route.query.page),this.$route.query.search&&(this.search_key=this.$route.query.search),this.buildlistpage()},methods:{async buildlistpage(){let t={page:this.page,type:this.nha_type,mod:"getbuilding"};this.$store.dispatch("Home/getbuildpage",t).then(t=>{0===t.code&&t.success&&(this.data__goc=t.data.data,this.data=t.data.data,this.paginationData=t.data.pagination)}).catch(t=>{this.setFormError(t)}).finally(()=>{this.requestLoading=!1})},taonha(){this.$router.push({name:"taonha.create"})},handlePageClick(t){this.$router.push({name:"dashboard.index",query:{page:t}})},chitiet(t){this.$router.push({path:"/quanly/nha-thue/detail/"+t})},capnhatnha(){this.data.filter(t=>t.check).map(t=>t.detail_id)},xoanhieu(){let t=this.data.filter(t=>t.check).map(t=>t.detail_id);console.log(t)},timnha(t){this.nha_type=t,this.buildlistpage()},deleteCty(t){this.$confirm(this.$i18n.t("home.title_change",{code:"name"}),c["a"].t("home.please_confirm"),{icon:"warning",confirmButtonColor:"#1ee0ac",cancelButtonColor:"#d33",cancelButtonText:c["a"].t("button.cancel"),confirmButtonText:c["a"].t("button.confirm")}).then(({value:a})=>{if(a){let a={mod:"delete",id:t};this.$store.dispatch("Home/deleteBuild",a).then(t=>{if(0===t.code&&t.success)return this.$alert("xoa thanh cong")}).catch(t=>{this.setFormError(t)}).finally(()=>{this.requestLoading=!1})}})},timkiemnha(){this.loading=!1,this.masonha?this.$store.dispatch("Home/detailHome",{id:this.masonha}).then(t=>{t&&0===t.code&&t.success&&t.data?this.data=[t.data]:(this.data=[],this.loading=!0)}).catch(t=>{this.setFormError(t)}).finally(()=>{}):this.data=this.data__goc}},watch:{}},l=o,r=(i("c193"),i("61ef"),i("2877")),h=Object(r["a"])(l,n,e,!1,null,"2a82fb4a",null);a["default"]=h.exports},"28e7":function(t,a,i){},"61ef":function(t,a,i){"use strict";i("0bd4")},c193:function(t,a,i){"use strict";i("28e7")}}]);